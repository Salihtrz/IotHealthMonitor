@model GetDoctorDto
@{
    Layout = "~/Views/DoctorLayout/Index.cshtml";
}
@await Component.InvokeAsync("_DoctorLayoutHeadComponentPartial")
@await Component.InvokeAsync("_LineChartHeadComponentPartial")
<!DOCTYPE html>
<html lang="en">
<body class="sidebar-mini">
    <script type="text/javascript">

        $(document).ready(() => {
            var id = @ViewBag.DeviceID;

            var connection = new signalR.HubConnectionBuilder().withUrl("https://localhost:7254/SignalRHub").build();
            $("#connstatus").text(connection.state);

            connection.start().then(() => {
                $("#connstatus").text(connection.state);

                setInterval(() => {
                    connection.invoke("SendStatistic3", id);
                }, 3000);
            }).catch((err) => { console.log(err) });

            connection.on("ReceiveGetDeviceWithHighestPulsePatientByDeviceID", (value) => {
                    $("#highestPulsePatient").text(value);
            });
            connection.on("ReceiveGetDeviceWithLowestPulsePatientByDeviceID", (value) => {
                    $("#lowestPulsePatient").text(value);
            });
            connection.on("ReceiveDoctorCountByIsStatusTrue", (value) => {
                    $("#doctorCount").text(value);
            });
            connection.on("ReceivePatientCountByStatusTrue", (value) => {
                    $("#patientCount").text(value);
            });
        });
    </script>
    <div class="wrapper">
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>Hoşgeldiniz @Model.Degree @Model.DoctorName @Model.DoctorSurname</h1>
                <ol class="breadcrumb">
                    <li><a href="#"><i class="fa fa-home"></i> Ana Sayfa</a></li>
                    <li class="active"><i class="fa fa-bullseye"></i> @Model.DoctorName @Model.DoctorSurname</li>
                    <li class="active"><i class="fa fa-credit-card"></i> Profilim</li>
                </ol>
            </section>

            <!-- Main content -->
            <section class="content container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="chart-box">
                            <div class="m-bot-3 over-hidden">
                                <h4 class="pull-left">Ankara Devlet Hastanesi</h4>
                                <!-- Split button -->
                                <div class="btn-group pull-right">
                                    <button type="button" class="btn btn-danger">Hesabım</button>
                                    <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <span class="caret"></span> <span class="sr-only">Toggle Dropdown</span> </button>
                                    <ul class="dropdown-menu dropdown-menu-right">
                                        <li><a href="#"><i class="fa fa-plus"></i>Add New Invoice</a></li>
                                        <li><a href="#"><i class="fa fa-save"></i>Save Invoice</a></li>
                                        <li><a href="#"><i class="fa fa-print"></i>Print Invoice</a></li>
                                        <li><a href="#"><i class="fa fa-ban"></i>Cancel Invoice</a></li>
                                        <li><a href="#"><i class="fa fa-credit-card"></i>Paid Invoice</a></li>
                                        <li><a href="#"><i class="fa fa-trash-o"></i>Delete Invoice</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2 col-xs-6 m-t-10">
                                    <h5>Ankara Devlet Hastanesi</h5>
                                    <ul class="list-unstyled m-bot-3">
                                        <li>Başladığı Tarih: <span class="text-semibold">@Model.StartingDate</span></li>
                                        <li>Güncel Tarih: <span class="text-semibold">@DateTime.Now.ToString("dd.MM.yyyy")</span></li>
                                    </ul>

                                    <h5>@Model.Degree @Model.DoctorName @Model.DoctorSurname</h5>
                                    <address>
                                        @Model.Phone<br>
                                        <a href="#">@Model.Email</a>
                                    </address>

                                </div>
                                <div class="col-md-10 text-right">
                                    <div class="col-md-3 pull-right m-bot-2 text-right"><img src="~/Dashboard/html/dist/img/img3.jpg" class="img-circle img-responsive" alt="User Image"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            @* <section class="content container-fluid" style="min-height:auto;"> *@
            @*     <div class="row"> *@
            @*         <div class="col-lg-3 col-xs-6"> *@
            @*             <div class="media-box"> *@
            @*                 <div class="media-icon pull-left"><i class="icon-bargraph"></i> </div> *@
            @*                 <div class="media-info"> *@
            @*                     <h5>Toplam Hasta Sayısı</h5> *@
            @*                     <h3 id="patientCount"></h3> *@
            @*                 </div> *@
            @*             </div> *@
            @*         </div> *@
            @*         <div class="col-lg-3 col-xs-6"> *@
            @*             <div class="media-box bg-sea"> *@
            @*                 <div class="media-icon pull-left"><i class="icon-wallet"></i> </div> *@
            @*                 <div class="media-info"> *@
            @*                     <h5>Toplam Doktor Sayısı</h5> *@
            @*                     <h3 id="doctorCount"></h3> *@
            @*                 </div> *@
            @*             </div> *@
            @*         </div> *@
            @*         <div class="col-lg-3 col-xs-6"> *@
            @*             <div class="media-box bg-blue"> *@
            @*                 <div class="media-icon pull-left"><i class="icon-basket"></i> </div> *@
            @*                 <div class="media-info"> *@
            @*                     <h5>Nabızı En Yüksek Hasta</h5> *@
            @*                     <h3 id="highestPulsePatient"></h3> *@
            @*                 </div> *@
            @*             </div> *@
            @*         </div> *@
            @*         <div class="col-lg-3 col-xs-6"> *@
            @*             <div class="media-box bg-green"> *@
            @*                 <div class="media-icon pull-left"><i class="icon-layers"></i> </div> *@
            @*                 <div class="media-info"> *@
            @*                     <h5>Nabızı En Düşük Hasta</h5> *@
            @*                     <h3 id="lowestPulsePatient"></h3> *@
            @*                 </div> *@
            @*             </div> *@
            @*         </div> *@
            @*     </div> *@
            @* </section> *@
            <!-- content -->
        </div>
    </div>
    @await Component.InvokeAsync("_DoctorLayoutScriptComponentPartial")
    @await Component.InvokeAsync("_LineChartScriptComponentPartial")
</body>
</html>
